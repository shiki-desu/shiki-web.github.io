"use strict";(self["webpackChunkshiki_web"]=self["webpackChunkshiki_web"]||[]).push([[8786],{14641:function(e,t,n){n.d(t,{A:function(){return o}});var l=n(50953),r=n(20641);function o(e,t,n){const o=(0,l.IJ)({});function u(e){return o.value.kvMap.get(e)}return(0,r.wB)([e,t,n],()=>{const l=new Map,r=n.value,u=t.value;function a(e){e.forEach((e,t)=>{const n=r(e,t);l.set(n,e),e&&"object"===typeof e&&u in e&&a(e[u]||[])})}a(e.value),o.value={kvMap:l}},{deep:!0,immediate:!0}),[u]}},22020:function(e,t,n){n.d(t,{DS:function(){return v},Vw:function(){return f},fz:function(){return p}});var l=n(51137),r=n(79173),o=n(14728),u=n(55677),a=n(9159),c=n(49224),i=n(39198),s=n(31700),d=n(65980);const v=c.A,f=i.A,p=(0,l.A)(a.y$,{Cell:f,Row:v,name:"ATableSummary"});t.Ay=(0,l.A)(r.A,{SELECTION_ALL:d.z1,SELECTION_INVERT:d.EU,SELECTION_NONE:d.IF,SELECTION_COLUMN:d.sx,EXPAND_COLUMN:s.k,Column:o.A,ColumnGroup:u.A,Summary:p,install:e=>(e.component(p.name,p),e.component(f.name,f),e.component(v.name,v),e.component(r.A.name,r.A),e.component(o.A.name,o.A),e.component(u.A.name,u.A),e)})},55073:function(e,t,n){n.d(t,{A:function(){return u}});var l=n(51137),r=n(70790);function o(e,t){return e.map(e=>{const n=(0,l.A)({},e);return n.title=(0,r.fy)(n.title,t),"children"in n&&(n.children=o(n.children,t)),n})}function u(e){const t=t=>o(t,e.value);return[t]}},65135:function(e,t,n){n.d(t,{A:function(){return k},L:function(){return S}});var l=n(51137),r=n(20641),o=n(51758),u=n(31747),a=n(40983),c=n(70790),i=n(58777),s=n(3936),d=n(11207);const v="ascend",f="descend";function p(e){return"object"===typeof e.sorter&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function m(e){return"function"===typeof e?e:!(!e||"object"!==typeof e||!e.compare)&&e.compare}function h(e,t){return t?e[e.indexOf(t)+1]:e[0]}function y(e,t,n){let l=[];function r(e,t){l.push({column:e,key:(0,c.gf)(e,t),multiplePriority:p(e),sortOrder:e.sortOrder})}return(e||[]).forEach((e,o)=>{const u=(0,c.R4)(o,n);e.children?("sortOrder"in e&&r(e,u),l=[...l,...y(e.children,t,u)]):e.sorter&&("sortOrder"in e?r(e,u):t&&e.defaultSortOrder&&l.push({column:e,key:(0,c.gf)(e,u),multiplePriority:p(e),sortOrder:e.defaultSortOrder}))}),l}function A(e,t,n,s,m,y,g,E){return(t||[]).map((t,S)=>{const k=(0,c.R4)(S,E);let C=t;if(C.sorter){const A=C.sortDirections||m,E=void 0===C.showSorterTooltip?g:C.showSorterTooltip,S=(0,c.gf)(C,k),b=n.find(e=>{let{key:t}=e;return t===S}),w=b?b.sortOrder:null,x=h(A,w),O=A.includes(v)&&(0,r.bF)(u.A,{class:(0,i.A)(`${e}-column-sorter-up`,{active:w===v}),role:"presentation"},null),P=A.includes(f)&&(0,r.bF)(o.A,{role:"presentation",class:(0,i.A)(`${e}-column-sorter-down`,{active:w===f})},null),{cancelSort:N,triggerAsc:K,triggerDesc:W}=y||{};let L=N;x===f?L=W:x===v&&(L=K);const R="object"===typeof E?E:{title:L};C=(0,l.A)((0,l.A)({},C),{className:(0,i.A)(C.className,{[`${e}-column-sort`]:w}),title:n=>{const l=(0,r.bF)("div",{class:`${e}-column-sorters`},[(0,r.bF)("span",{class:`${e}-column-title`},[(0,c.fy)(t.title,n)]),(0,r.bF)("span",{class:(0,i.A)(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!(!O||!P)})},[(0,r.bF)("span",{class:`${e}-column-sorter-inner`},[O,P])])]);return E?(0,r.bF)(a.A,R,{default:()=>[l]}):l},customHeaderCell:n=>{const l=t.customHeaderCell&&t.customHeaderCell(n)||{},r=l.onClick,o=l.onKeydown;return l.onClick=e=>{s({column:t,key:S,sortOrder:x,multiplePriority:p(t)}),r&&r(e)},l.onKeydown=e=>{e.keyCode===d.A.ENTER&&(s({column:t,key:S,sortOrder:x,multiplePriority:p(t)}),null===o||void 0===o||o(e))},w&&(l["aria-sort"]="ascend"===w?"ascending":"descending"),l.class=(0,i.A)(l.class,`${e}-column-has-sorters`),l.tabindex=0,l}})}return"children"in C&&(C=(0,l.A)((0,l.A)({},C),{children:A(e,C.children,n,s,m,y,g,k)})),C})}function g(e){const{column:t,sortOrder:n}=e;return{column:t,order:n,field:t.dataIndex,columnKey:t.key}}function E(e){const t=e.filter(e=>{let{sortOrder:t}=e;return t}).map(g);return 0===t.length&&e.length?(0,l.A)((0,l.A)({},g(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function S(e,t,n){const r=t.slice().sort((e,t)=>t.multiplePriority-e.multiplePriority),o=e.slice(),u=r.filter(e=>{let{column:{sorter:t},sortOrder:n}=e;return m(t)&&n});return u.length?o.sort((e,t)=>{for(let n=0;n<u.length;n+=1){const l=u[n],{column:{sorter:r},sortOrder:o}=l,a=m(r);if(a&&o){const n=a(e,t,o);if(0!==n)return o===v?n:-n}}return 0}).map(e=>{const r=e[n];return r?(0,l.A)((0,l.A)({},e),{[n]:S(r,t,n)}):e}):o}function k(e){let{prefixCls:t,mergedColumns:n,onSorterChange:o,sortDirections:u,tableLocale:a,showSorterTooltip:c}=e;const[i,d]=(0,s.A)(y(n.value,!0)),v=(0,r.EW)(()=>{let e=!0;const t=y(n.value,!1);if(!t.length)return i.value;const r=[];function o(t){e?r.push(t):r.push((0,l.A)((0,l.A)({},t),{sortOrder:null}))}let u=null;return t.forEach(t=>{null===u?(o(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:u=!0)):(u&&!1!==t.multiplePriority||(e=!1),o(t))}),r}),f=(0,r.EW)(()=>{const e=v.value.map(e=>{let{column:t,sortOrder:n}=e;return{column:t,order:n}});return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}});function p(e){let t;t=!1!==e.multiplePriority&&v.value.length&&!1!==v.value[0].multiplePriority?[...v.value.filter(t=>{let{key:n}=t;return n!==e.key}),e]:[e],d(t),o(E(t),t)}const m=e=>A(t.value,e,v.value,p,u.value,a.value,c.value),h=(0,r.EW)(()=>E(v.value));return[m,v,f,h]}},65980:function(e,t,n){n.d(t,{Ay:function(){return x},EU:function(){return k},IF:function(){return C},sx:function(){return E},z1:function(){return S}});var l=n(58788),r=n(51137),o=n(20641),u=n(26209),a=n(65713),c=n(55780),i=n(5860),s=n(50214),d=n(37025),v=n(45816),f=n(3936),p=n(50953),m=n(63225),h=n(77197),y=n(72219),A=n(59831),g=n(30573);const E={},S="SELECT_ALL",k="SELECT_INVERT",C="SELECT_NONE",b=[];function w(e,t){let n=[];return(t||[]).forEach(t=>{n.push(t),t&&"object"===typeof t&&e in t&&(n=[...n,...w(e,t[e])])}),n}function x(e,t){const n=(0,o.EW)(()=>{const t=e.value||{},{checkStrictly:n=!0}=t;return(0,r.A)((0,r.A)({},t),{checkStrictly:n})}),[x,O]=(0,v.A)(n.value.selectedRowKeys||n.value.defaultSelectedRowKeys||b,{value:(0,o.EW)(()=>n.value.selectedRowKeys)}),P=(0,p.IJ)(new Map),N=e=>{if(n.value.preserveSelectedRowKeys){const n=new Map;e.forEach(e=>{let l=t.getRecordByKey(e);!l&&P.value.has(e)&&(l=P.value.get(e)),n.set(e,l)}),P.value=n}};(0,o.nT)(()=>{N(x.value)});const K=(0,o.EW)(()=>n.value.checkStrictly?null:(0,s.cG)(t.data.value,{externalGetKey:t.getRowKey.value,childrenPropName:t.childrenColumnName.value}).keyEntities),W=(0,o.EW)(()=>w(t.childrenColumnName.value,t.pageData.value)),L=(0,o.EW)(()=>{const e=new Map,l=t.getRowKey.value,r=n.value.getCheckboxProps;return W.value.forEach((t,n)=>{const o=l(t,n),u=(r?r(t):null)||{};e.set(o,u)}),e}),{maxLevel:R,levelEntities:T}=(0,g.A)(K),F=e=>{var n;return!!(null===(n=L.value.get(t.getRowKey.value(e)))||void 0===n?void 0:n.disabled)},I=(0,o.EW)(()=>{if(n.value.checkStrictly)return[x.value||[],[]];const{checkedKeys:e,halfCheckedKeys:t}=(0,i.p)(x.value,!0,K.value,R.value,T.value,F);return[e||[],t]}),$=(0,o.EW)(()=>I.value[0]),z=(0,o.EW)(()=>I.value[1]),M=(0,o.EW)(()=>{const e="radio"===n.value.type?$.value.slice(0,1):$.value;return new Set(e)}),_=(0,o.EW)(()=>"radio"===n.value.type?new Set:new Set(z.value)),[D,j]=(0,f.A)(null),B=e=>{let l,r;N(e);const{preserveSelectedRowKeys:o,onChange:u}=n.value,{getRecordByKey:a}=t;o?(l=e,r=e.map(e=>P.value.get(e))):(l=[],r=[],e.forEach(e=>{const t=a(e);void 0!==t&&(l.push(e),r.push(t))})),O(l),null===u||void 0===u||u(l,r)},U=(e,l,r,o)=>{const{onSelect:u}=n.value,{getRecordByKey:a}=t||{};if(u){const t=r.map(e=>a(e));u(a(e),l,t,o)}B(r)},G=(0,o.EW)(()=>{const{onSelectInvert:e,onSelectNone:l,selections:r,hideSelectAll:o}=n.value,{data:u,pageData:a,getRowKey:c,locale:i}=t;if(!r||o)return null;const s=!0===r?[S,k,C]:r;return s.map(t=>t===S?{key:"all",text:i.value.selectionAll,onSelect(){B(u.value.map((e,t)=>c.value(e,t)).filter(e=>{const t=L.value.get(e);return!(null===t||void 0===t?void 0:t.disabled)||M.value.has(e)}))}}:t===k?{key:"invert",text:i.value.selectInvert,onSelect(){const t=new Set(M.value);a.value.forEach((e,n)=>{const l=c.value(e,n),r=L.value.get(l);(null===r||void 0===r?void 0:r.disabled)||(t.has(l)?t.delete(l):t.add(l))});const n=Array.from(t);e&&((0,d.A)(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),e(n)),B(n)}}:t===C?{key:"none",text:i.value.selectNone,onSelect(){null===l||void 0===l||l(),B(Array.from(M.value).filter(e=>{const t=L.value.get(e);return null===t||void 0===t?void 0:t.disabled}))}}:t)}),H=(0,o.EW)(()=>W.value.length),V=s=>{var v;const{onSelectAll:f,onSelectMultiple:p,columnWidth:g,type:S,fixed:k,renderCell:C,hideSelectAll:b,checkStrictly:w}=n.value,{prefixCls:x,getRecordByKey:O,getRowKey:P,expandType:N,getPopupContainer:I}=t;if(!e.value)return s.filter(e=>e!==E);let z=s.slice();const V=new Set(M.value),X=W.value.map(P.value).filter(e=>!L.value.get(e).disabled),J=X.every(e=>V.has(e)),Q=X.some(e=>V.has(e)),q=()=>{const e=[];J?X.forEach(t=>{V.delete(t),e.push(t)}):X.forEach(t=>{V.has(t)||(V.add(t),e.push(t))});const t=Array.from(V);null===f||void 0===f||f(!J,t.map(e=>O(e)),e.map(e=>O(e))),B(t)};let Y,Z;if("radio"!==S){let e;if(G.value){const t=(0,o.bF)(y.Ay,{getPopupContainer:I.value},{default:()=>[G.value.map((e,t)=>{const{key:n,text:l,onSelect:r}=e;return(0,o.bF)(y.Ay.Item,{key:n||t,onClick:()=>{null===r||void 0===r||r(X)}},{default:()=>[l]})})]});e=(0,o.bF)("div",{class:`${x.value}-selection-extra`},[(0,o.bF)(h.Ay,{overlay:t,getPopupContainer:I.value},{default:()=>[(0,o.bF)("span",null,[(0,o.bF)(u.A,null,null)])]})])}const t=W.value.map((e,t)=>{const n=P.value(e,t),l=L.value.get(n)||{};return(0,r.A)({checked:V.has(n)},l)}).filter(e=>{let{disabled:t}=e;return t}),n=!!t.length&&t.length===H.value,l=n&&t.every(e=>{let{checked:t}=e;return t}),a=n&&t.some(e=>{let{checked:t}=e;return t});Y=!b&&(0,o.bF)("div",{class:`${x.value}-selection`},[(0,o.bF)(m.Ay,{checked:n?l:!!H.value&&J,indeterminate:n?!l&&a:!J&&Q,onChange:q,disabled:0===H.value||n,"aria-label":e?"Custom selection":"Select all",skipGroup:!0},null),e])}Z="radio"===S?e=>{let{record:t,index:n}=e;const r=P.value(t,n),u=V.has(r);return{node:(0,o.bF)(A.Ay,(0,l.A)((0,l.A)({},L.value.get(r)),{},{checked:u,onClick:e=>e.stopPropagation(),onChange:e=>{V.has(r)||U(r,!0,[r],e.nativeEvent)}}),null),checked:u}}:e=>{let{record:t,index:n}=e;var r;const u=P.value(t,n),a=V.has(u),s=_.value.has(u),v=L.value.get(u);let f;return"nest"===N.value?(f=s,(0,d.A)("boolean"!==typeof(null===v||void 0===v?void 0:v.indeterminate),"Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):f=null!==(r=null===v||void 0===v?void 0:v.indeterminate)&&void 0!==r?r:s,{node:(0,o.bF)(m.Ay,(0,l.A)((0,l.A)({},v),{},{indeterminate:f,checked:a,skipGroup:!0,onClick:e=>e.stopPropagation(),onChange:e=>{let{nativeEvent:t}=e;const{shiftKey:n}=t;let l=-1,r=-1;if(n&&w){const e=new Set([D.value,u]);X.some((t,n)=>{if(e.has(t)){if(-1!==l)return r=n,!0;l=n}return!1})}if(-1!==r&&l!==r&&w){const e=X.slice(l,r+1),t=[];a?e.forEach(e=>{V.has(e)&&(t.push(e),V.delete(e))}):e.forEach(e=>{V.has(e)||(t.push(e),V.add(e))});const n=Array.from(V);null===p||void 0===p||p(!a,n.map(e=>O(e)),t.map(e=>O(e))),B(n)}else{const e=$.value;if(w){const n=a?(0,c.BA)(e,u):(0,c.$s)(e,u);U(u,!a,n,t)}else{const n=(0,i.p)([...e,u],!0,K.value,R.value,T.value,F),{checkedKeys:l,halfCheckedKeys:r}=n;let o=l;if(a){const e=new Set(l);e.delete(u),o=(0,i.p)(Array.from(e),{checked:!1,halfCheckedKeys:r},K.value,R.value,T.value,F).checkedKeys}U(u,!a,o,t)}}j(u)}}),null),checked:a}};const ee=e=>{let{record:t,index:n}=e;const{node:l,checked:r}=Z({record:t,index:n});return C?C(r,t,n,l):l};if(!z.includes(E))if(0===z.findIndex(e=>{var t;return"EXPAND_COLUMN"===(null===(t=e[a.PL])||void 0===t?void 0:t.columnType)})){const[e,...t]=z;z=[e,E,...t]}else z=[E,...z];const te=z.indexOf(E);z=z.filter((e,t)=>e!==E||t===te);const ne=z[te-1],le=z[te+1];let re=k;void 0===re&&(void 0!==(null===le||void 0===le?void 0:le.fixed)?re=le.fixed:void 0!==(null===ne||void 0===ne?void 0:ne.fixed)&&(re=ne.fixed)),re&&ne&&"EXPAND_COLUMN"===(null===(v=ne[a.PL])||void 0===v?void 0:v.columnType)&&void 0===ne.fixed&&(ne.fixed=re);const oe={fixed:re,width:g,className:`${x.value}-selection-column`,title:n.value.columnTitle||Y,customRender:ee,[a.PL]:{class:`${x.value}-selection-col`}};return z.map(e=>e===E?oe:e)};return[V,M]}},71916:function(e,t,n){n.d(t,{Ay:function(){return i},WW:function(){return c},yQ:function(){return a}});var l=n(51137),r=n(3936),o=n(20641),u=n(40179);const a=10;function c(e,t){const n={current:e.current,pageSize:e.pageSize},l=t&&"object"===typeof t?t:{};return Object.keys(l).forEach(t=>{const l=e[t];"function"!==typeof l&&(n[t]=l)}),n}function i(e,t,n){const c=(0,o.EW)(()=>t.value&&"object"===typeof t.value?t.value:{}),i=(0,o.EW)(()=>c.value.total||0),[s,d]=(0,r.A)(()=>({current:"defaultCurrent"in c.value?c.value.defaultCurrent:1,pageSize:"defaultPageSize"in c.value?c.value.defaultPageSize:a})),v=(0,o.EW)(()=>{const t=(0,u.A)(s.value,c.value,{total:i.value>0?i.value:e.value}),n=Math.ceil((i.value||e.value)/t.pageSize);return t.current>n&&(t.current=n||1),t}),f=(e,n)=>{!1!==t.value&&d({current:null!==e&&void 0!==e?e:1,pageSize:n||v.value.pageSize})},p=(e,l)=>{var r,o;t.value&&(null===(o=(r=c.value).onChange)||void 0===o||o.call(r,e,l)),f(e,l),n(e,l||v.value.pageSize)};return[(0,o.EW)(()=>!1===t.value?{}:(0,l.A)((0,l.A)({},v.value),{onChange:p})),f]}}}]);