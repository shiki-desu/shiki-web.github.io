"use strict";(self["webpackChunkshiki_web"]=self["webpackChunkshiki_web"]||[]).push([[8279],{478:function(e,t,l){l.d(t,{F4:function(){return s},OL:function(){return r},bk:function(){return o},gS:function(){return u},pt:function(){return i}});var a=l(74495);const n=e=>void 0!==e&&null!==e&&(!Array.isArray(e)||(0,a.Gk)(e).length);function r(e){return n(e.prefix)||n(e.suffix)||n(e.allowClear)}function o(e){return n(e.addonBefore)||n(e.addonAfter)}function i(e){return"undefined"===typeof e||null===e?"":String(e)}function u(e,t,l,a){if(!l)return;const n=t;if("click"===t.type){Object.defineProperty(n,"target",{writable:!0}),Object.defineProperty(n,"currentTarget",{writable:!0});const t=e.cloneNode(!0);return n.target=t,n.currentTarget=t,t.value="",void l(n)}if(void 0!==a)return Object.defineProperty(n,"target",{writable:!0}),Object.defineProperty(n,"currentTarget",{writable:!0}),n.target=e,n.currentTarget=e,e.value=a,void l(n);l(n)}function s(e,t){if(!e)return;e.focus(t);const{cursor:l}=t||{};if(l){const t=e.value.length;switch(l){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}},21499:function(e,t,l){var a=l(30191);t.Ay=a.Ay},30191:function(e,t,l){l.d(t,{KY:function(){return g},nr:function(){return y}});var a=l(58788),n=l(51137),r=l(20641),o=l(50953),i=l(21879),u=l(58777),s=l(4718),v=l(18362),c=l(45816),p=l(59605),d=l(82275),f=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(l[a[n]]=e[a[n]])}return l};const g=()=>({src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,width:[Number,String],height:[Number,String],previewMask:{type:[Boolean,Function],default:void 0},placeholder:s.A.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}),y=(e,t)=>{const l=(0,n.A)({},e);return Object.keys(t).forEach(a=>{void 0===e[a]&&(l[a]=t[a])}),l};let b=0;const m=(0,r.pM)({compatConfig:{MODE:3},name:"VcImage",inheritAttrs:!1,props:g(),emits:["click","error"],setup(e,t){let{attrs:l,slots:s,emit:g}=t;const m=(0,r.EW)(()=>e.prefixCls),w=(0,r.EW)(()=>`${m.value}-preview`),h=(0,r.EW)(()=>{const t={visible:void 0,onVisibleChange:()=>{},getContainer:void 0};return"object"===typeof e.preview?y(e.preview,t):t}),C=(0,r.EW)(()=>{var t;return null!==(t=h.value.src)&&void 0!==t?t:e.src}),A=(0,r.EW)(()=>e.placeholder&&!0!==e.placeholder||s.placeholder),x=(0,r.EW)(()=>h.value.visible),O=(0,r.EW)(()=>h.value.getContainer),k=(0,r.EW)(()=>void 0!==x.value),F=(e,t)=>{var l,a;null===(a=(l=h.value).onVisibleChange)||void 0===a||a.call(l,e,t)},[S,$]=(0,c.A)(!!x.value,{value:x,onChange:F}),E=(0,o.KR)(A.value?"loading":"normal");(0,r.wB)(()=>e.src,()=>{E.value=A.value?"loading":"normal"});const P=(0,o.KR)(null),N=(0,r.EW)(()=>"error"===E.value),B=d._O.inject(),{isPreviewGroup:W,setCurrent:j,setShowPreview:I,setMousePosition:M,registerImage:K}=B,R=(0,o.KR)(b++),z=(0,r.EW)(()=>e.preview&&!N.value),V=()=>{E.value="normal"},D=e=>{E.value="error",g("error",e)},Y=e=>{if(!k.value){const{left:t,top:l}=(0,v.A3)(e.target);W.value?(j(R.value),M({x:t,y:l})):P.value={x:t,y:l}}W.value?I(!0):$(!0),g("click",e)},J=()=>{$(!1),k.value||(P.value=null)},G=(0,o.KR)(null);(0,r.wB)(()=>G,()=>{"loading"===E.value&&G.value.complete&&(G.value.naturalWidth||G.value.naturalHeight)&&V()});let X=()=>{};(0,r.sV)(()=>{(0,r.wB)([C,z],()=>{if(X(),!W.value)return()=>{};X=K(R.value,C.value,z.value),z.value||X()},{flush:"post",immediate:!0})}),(0,r.hi)(()=>{X()});const T=e=>(0,i.A)(e)?e+"px":e;return()=>{const{prefixCls:t,wrapperClassName:o,fallback:i,src:v,placeholder:c,wrapperStyle:d,rootClassName:y,width:b,height:m,crossorigin:A,decoding:x,alt:k,sizes:F,srcset:$,usemap:B,class:j,style:I}=(0,n.A)((0,n.A)({},e),l),M=h.value,{icons:K,maskClassName:R}=M,X=f(M,["icons","maskClassName"]),L=(0,u.A)(t,o,y,{[`${t}-error`]:N.value}),U=N.value&&i?i:C.value,_={crossorigin:A,decoding:x,alt:k,sizes:F,srcset:$,usemap:B,width:b,height:m,class:(0,u.A)(`${t}-img`,{[`${t}-img-placeholder`]:!0===c},j),style:(0,n.A)({height:T(m)},I)};return(0,r.bF)(r.FK,null,[(0,r.bF)("div",{class:L,onClick:z.value?Y:e=>{g("click",e)},style:(0,n.A)({width:T(b),height:T(m)},d)},[(0,r.bF)("img",(0,a.A)((0,a.A)((0,a.A)({},_),N.value&&i?{src:i}:{onLoad:V,onError:D,src:v}),{},{ref:G}),null),"loading"===E.value&&(0,r.bF)("div",{"aria-hidden":"true",class:`${t}-placeholder`},[c||s.placeholder&&s.placeholder()]),s.previewMask&&z.value&&(0,r.bF)("div",{class:[`${t}-mask`,R]},[s.previewMask()])]),!W.value&&z.value&&(0,r.bF)(p.A,(0,a.A)((0,a.A)({},X),{},{"aria-hidden":!S.value,visible:S.value,prefixCls:w.value,onClose:J,mousePosition:P.value,src:U,alt:k,getContainer:O.value,icons:K,rootClassName:y}),null)])}}});m.PreviewGroup=d.Ay,t.Ay=m},50358:function(e,t,l){l.d(t,{$8:function(){return u},Wr:function(){return i}});var a=l(51137),n=l(4718),r=l(30869);Symbol();const o=()=>({addonBefore:n.A.any,addonAfter:n.A.any,prefix:n.A.any,suffix:n.A.any,clearIcon:n.A.any,affixWrapperClassName:String,groupClassName:String,wrapperClassName:String,inputClassName:String,allowClear:{type:Boolean,default:void 0}}),i=()=>(0,a.A)((0,a.A)({},o()),{value:{type:[String,Number,Symbol],default:void 0},defaultValue:{type:[String,Number,Symbol],default:void 0},inputElement:n.A.any,prefixCls:String,disabled:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},triggerFocus:Function,readonly:{type:Boolean,default:void 0},handleReset:Function,hidden:{type:Boolean,default:void 0}}),u=()=>(0,a.A)((0,a.A)({},i()),{id:String,placeholder:{type:[String,Number]},autocomplete:String,type:(0,r.WO)("text"),name:String,size:{type:String},autofocus:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object,hidden:{type:Boolean,default:void 0},status:String})},59605:function(e,t,l){l.d(t,{A:function(){return A}});var a=l(58788),n=l(51137),r=l(20641),o=l(50953),i=l(58777),u=l(69437),s=l(32879),v=l(18362),c=l(82160),p=l(11207),d=l(57646),f=l(70556);function g(e){const t=(0,o.KR)(null),l=(0,o.Kh)((0,n.A)({},e)),a=(0,o.KR)([]),i=e=>{null===t.value&&(a.value=[],t.value=(0,f.A)(()=>{let e;a.value.forEach(t=>{e=(0,n.A)((0,n.A)({},e),t)}),(0,n.A)(l,e),t.value=null})),a.value.push(e)};return(0,r.sV)(()=>{t.value&&f.A.cancel(t.value)}),[l,i]}function y(e,t,l,a){const n=t+l,r=(l-a)/2;if(l>a){if(t>0)return{[e]:r};if(t<0&&n<a)return{[e]:-r}}else if(t<0||n>a)return{[e]:t<0?r:-r};return{}}function b(e,t,l,a){const{width:r,height:o}=(0,v.XV)();let i=null;return e<=r&&t<=o?i={x:0,y:0}:(e>r||t>o)&&(i=(0,n.A)((0,n.A)({},y("x",l,e,r)),y("y",a,t,o))),i}var m=l(82275);const w={x:0,y:0},h=(0,n.A)((0,n.A)({},(0,s.j)()),{src:String,alt:String,rootClassName:String,icons:{type:Object,default:()=>({})}}),C=(0,r.pM)({compatConfig:{MODE:3},name:"Preview",inheritAttrs:!1,props:h,emits:["close","afterClose"],setup(e,t){let{emit:l,attrs:s}=t;const{rotateLeft:f,rotateRight:y,zoomIn:h,zoomOut:C,close:A,left:x,right:O,flipX:k,flipY:F}=(0,o.Kh)(e.icons),S=(0,o.IJ)(1),$=(0,o.IJ)(0),E=(0,o.Kh)({x:1,y:1}),[P,N]=g(w),B=()=>l("close"),W=(0,o.IJ)(),j=(0,o.Kh)({originX:0,originY:0,deltaX:0,deltaY:0}),I=(0,o.IJ)(!1),M=m._O.inject(),{previewUrls:K,current:R,isPreviewGroup:z,setCurrent:V}=M,D=(0,r.EW)(()=>K.value.size),Y=(0,r.EW)(()=>Array.from(K.value.keys())),J=(0,r.EW)(()=>Y.value.indexOf(R.value)),G=(0,r.EW)(()=>z.value?K.value.get(R.value):e.src),X=(0,r.EW)(()=>z.value&&D.value>1),T=(0,o.IJ)({wheelDirection:0}),L=()=>{S.value=1,$.value=0,E.x=1,E.y=1,N(w),l("afterClose")},U=e=>{e?S.value+=.5:S.value++,N(w)},_=e=>{S.value>1&&(e?S.value-=.5:S.value--),N(w)},H=()=>{$.value+=90},Q=()=>{$.value-=90},q=()=>{E.x=-E.x},Z=()=>{E.y=-E.y},ee=e=>{e.preventDefault(),e.stopPropagation(),J.value>0&&V(Y.value[J.value-1])},te=e=>{e.preventDefault(),e.stopPropagation(),J.value<D.value-1&&V(Y.value[J.value+1])},le=(0,i.A)({[`${e.prefixCls}-moving`]:I.value}),ae=`${e.prefixCls}-operations-operation`,ne=`${e.prefixCls}-operations-icon`,re=[{icon:A,onClick:B,type:"close"},{icon:h,onClick:()=>U(),type:"zoomIn"},{icon:C,onClick:()=>_(),type:"zoomOut",disabled:(0,r.EW)(()=>1===S.value)},{icon:y,onClick:H,type:"rotateRight"},{icon:f,onClick:Q,type:"rotateLeft"},{icon:k,onClick:q,type:"flipX"},{icon:F,onClick:Z,type:"flipY"}],oe=()=>{if(e.visible&&I.value){const e=W.value.offsetWidth*S.value,t=W.value.offsetHeight*S.value,{left:l,top:a}=(0,v.A3)(W.value),r=$.value%180!==0;I.value=!1;const o=b(r?t:e,r?e:t,l,a);o&&N((0,n.A)({},o))}},ie=e=>{0===e.button&&(e.preventDefault(),e.stopPropagation(),j.deltaX=e.pageX-P.x,j.deltaY=e.pageY-P.y,j.originX=P.x,j.originY=P.y,I.value=!0)},ue=t=>{e.visible&&I.value&&N({x:t.pageX-j.deltaX,y:t.pageY-j.deltaY})},se=t=>{if(!e.visible)return;t.preventDefault();const l=t.deltaY;T.value={wheelDirection:l}},ve=t=>{e.visible&&X.value&&(t.preventDefault(),t.keyCode===p.A.LEFT?J.value>0&&V(Y.value[J.value-1]):t.keyCode===p.A.RIGHT&&J.value<D.value-1&&V(Y.value[J.value+1]))},ce=()=>{e.visible&&(1!==S.value&&(S.value=1),P.x===w.x&&P.y===w.y||N(w))};let pe=()=>{};return(0,r.sV)(()=>{(0,r.wB)([()=>e.visible,I],()=>{let e,t;pe();const l=(0,c.A)(window,"mouseup",oe,!1),a=(0,c.A)(window,"mousemove",ue,!1),n=(0,c.A)(window,"wheel",se,{passive:!1}),r=(0,c.A)(window,"keydown",ve,!1);try{window.top!==window.self&&(e=(0,c.A)(window.top,"mouseup",oe,!1),t=(0,c.A)(window.top,"mousemove",ue,!1))}catch(o){(0,d.$e)(!1,`[vc-image] ${o}`)}pe=()=>{l.remove(),a.remove(),n.remove(),r.remove(),e&&e.remove(),t&&t.remove()}},{flush:"post",immediate:!0}),(0,r.wB)([T],()=>{const{wheelDirection:e}=T.value;e>0?_(!0):e<0&&U(!0)})}),(0,r.hi)(()=>{pe()}),()=>{const{visible:t,prefixCls:l,rootClassName:n}=e;return(0,r.bF)(u.A,(0,a.A)((0,a.A)({},s),{},{transitionName:e.transitionName,maskTransitionName:e.maskTransitionName,closable:!1,keyboard:!0,prefixCls:l,onClose:B,afterClose:L,visible:t,wrapClassName:le,rootClassName:n,getContainer:e.getContainer}),{default:()=>[(0,r.bF)("div",{class:[`${e.prefixCls}-operations-wrapper`,n]},[(0,r.bF)("ul",{class:`${e.prefixCls}-operations`},[re.map(t=>{let{icon:l,onClick:a,type:n,disabled:o}=t;return(0,r.bF)("li",{class:(0,i.A)(ae,{[`${e.prefixCls}-operations-operation-disabled`]:o&&(null===o||void 0===o?void 0:o.value)}),onClick:a,key:n},[(0,r.E3)(l,{class:ne})])})])]),(0,r.bF)("div",{class:`${e.prefixCls}-img-wrapper`,style:{transform:`translate3d(${P.x}px, ${P.y}px, 0)`}},[(0,r.bF)("img",{onMousedown:ie,onDblclick:ce,ref:W,class:`${e.prefixCls}-img`,src:G.value,alt:e.alt,style:{transform:`scale3d(${E.x*S.value}, ${E.y*S.value}, 1) rotate(${$.value}deg)`}},null)]),X.value&&(0,r.bF)("div",{class:(0,i.A)(`${e.prefixCls}-switch-left`,{[`${e.prefixCls}-switch-left-disabled`]:J.value<=0}),onClick:ee},[x]),X.value&&(0,r.bF)("div",{class:(0,i.A)(`${e.prefixCls}-switch-right`,{[`${e.prefixCls}-switch-right-disabled`]:J.value>=D.value-1}),onClick:te},[O])]})}}});var A=C},68385:function(e,t,l){l.d(t,{A:function(){return g}});var a=l(58788),n=l(51137),r=l(20641),o=l(50953),i=l(58777),u=l(11712),s=l(50358),v=l(478),c=l(51927),p=(0,r.pM)({name:"BaseInput",inheritAttrs:!1,props:(0,s.Wr)(),setup(e,t){let{slots:l,attrs:a}=t;const n=(0,o.KR)(),u=t=>{var l;if(null===(l=n.value)||void 0===l?void 0:l.contains(t.target)){const{triggerFocus:t}=e;null===t||void 0===t||t()}},s=()=>{var t;const{allowClear:a,value:n,disabled:o,readonly:u,handleReset:s,suffix:v=l.suffix,prefixCls:c}=e;if(!a)return null;const p=!o&&!u&&n,d=`${c}-clear-icon`,f=(null===(t=l.clearIcon)||void 0===t?void 0:t.call(l))||"*";return(0,r.bF)("span",{onClick:s,onMousedown:e=>e.preventDefault(),class:(0,i.A)({[`${d}-hidden`]:!p,[`${d}-has-suffix`]:!!v},d),role:"button",tabindex:-1},[f])};return()=>{var t,o;const{focused:p,value:d,disabled:f,allowClear:g,readonly:y,hidden:b,prefixCls:m,prefix:w=(null===(t=l.prefix)||void 0===t?void 0:t.call(l)),suffix:h=(null===(o=l.suffix)||void 0===o?void 0:o.call(l)),addonAfter:C=l.addonAfter,addonBefore:A=l.addonBefore,inputElement:x,affixWrapperClassName:O,wrapperClassName:k,groupClassName:F}=e;let S=(0,c.Ob)(x,{value:d,hidden:b});if((0,v.OL)({prefix:w,suffix:h,allowClear:g})){const e=`${m}-affix-wrapper`,t=(0,i.A)(e,{[`${e}-disabled`]:f,[`${e}-focused`]:p,[`${e}-readonly`]:y,[`${e}-input-with-clear-btn`]:h&&g&&d},!(0,v.bk)({addonAfter:C,addonBefore:A})&&a.class,O),l=(h||g)&&(0,r.bF)("span",{class:`${m}-suffix`},[s(),h]);S=(0,r.bF)("span",{class:t,style:a.style,hidden:!(0,v.bk)({addonAfter:C,addonBefore:A})&&b,onMousedown:u,ref:n},[w&&(0,r.bF)("span",{class:`${m}-prefix`},[w]),(0,c.Ob)(x,{style:null,value:d,hidden:null}),l])}if((0,v.bk)({addonAfter:C,addonBefore:A})){const e=`${m}-group`,t=`${e}-addon`,l=(0,i.A)(`${m}-wrapper`,e,k),n=(0,i.A)(`${m}-group-wrapper`,a.class,F);return(0,r.bF)("span",{class:n,style:a.style,hidden:b},[(0,r.bF)("span",{class:l},[A&&(0,r.bF)("span",{class:t},[A]),(0,c.Ob)(S,{style:null,hidden:null}),C&&(0,r.bF)("span",{class:t},[C])])])}return S}}}),d=l(67056),f=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(l[a[n]]=e[a[n]])}return l},g=(0,r.pM)({name:"VCInput",inheritAttrs:!1,props:(0,s.$8)(),setup(e,t){let{slots:l,attrs:s,expose:c,emit:g}=t;const y=(0,o.IJ)(void 0===e.value?e.defaultValue:e.value),b=(0,o.IJ)(!1),m=(0,o.IJ)(),w=(0,o.IJ)();(0,r.wB)(()=>e.value,()=>{y.value=e.value}),(0,r.wB)(()=>e.disabled,()=>{e.disabled&&(b.value=!1)});const h=e=>{m.value&&(0,v.F4)(m.value.input,e)},C=()=>{var e;null===(e=m.value.input)||void 0===e||e.blur()},A=(e,t,l)=>{var a;null===(a=m.value.input)||void 0===a||a.setSelectionRange(e,t,l)},x=()=>{var e;null===(e=m.value.input)||void 0===e||e.select()};c({focus:h,blur:C,input:(0,r.EW)(()=>{var e;return null===(e=m.value.input)||void 0===e?void 0:e.input}),stateValue:y,setSelectionRange:A,select:x});const O=e=>{g("change",e)},k=(t,l)=>{y.value!==t&&(void 0===e.value?y.value=t:(0,r.dY)(()=>{var e;m.value.input.value!==y.value&&(null===(e=w.value)||void 0===e||e.$forceUpdate())}),(0,r.dY)(()=>{l&&l()}))},F=e=>{const{value:t}=e.target;if(y.value===t)return;const l=e.target.value;(0,v.gS)(m.value.input,e,O),k(l)},S=e=>{13===e.keyCode&&g("pressEnter",e),g("keydown",e)},$=e=>{b.value=!0,g("focus",e)},E=e=>{b.value=!1,g("blur",e)},P=e=>{(0,v.gS)(m.value.input,e,O),k("",()=>{h()})},N=()=>{var t,a;const{addonBefore:o=l.addonBefore,addonAfter:c=l.addonAfter,disabled:p,valueModifiers:f={},htmlSize:g,autocomplete:y,prefixCls:b,inputClassName:w,prefix:h=(null===(t=l.prefix)||void 0===t?void 0:t.call(l)),suffix:C=(null===(a=l.suffix)||void 0===a?void 0:a.call(l)),allowClear:A,type:x="text"}=e,O=(0,u.A)(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName"]),k=(0,n.A)((0,n.A)((0,n.A)({},O),s),{autocomplete:y,onChange:F,onInput:F,onFocus:$,onBlur:E,onKeydown:S,class:(0,i.A)(b,{[`${b}-disabled`]:p},w,!(0,v.bk)({addonAfter:c,addonBefore:o})&&!(0,v.OL)({prefix:h,suffix:C,allowClear:A})&&s.class),ref:m,key:"ant-input",size:g,type:x,lazy:e.lazy});f.lazy&&delete k.onInput,k.autofocus||delete k.autofocus;const P=(0,r.bF)(d.A,(0,u.A)(k,["size"]),null);return P},B=()=>{var t;const{maxlength:a,suffix:n=(null===(t=l.suffix)||void 0===t?void 0:t.call(l)),showCount:o,prefixCls:u}=e,s=Number(a)>0;if(n||o){const e=[...(0,v.pt)(y.value)].length,t="object"===typeof o?o.formatter({count:e,maxlength:a}):`${e}${s?` / ${a}`:""}`;return(0,r.bF)(r.FK,null,[!!o&&(0,r.bF)("span",{class:(0,i.A)(`${u}-show-count-suffix`,{[`${u}-show-count-has-suffix`]:!!n})},[t]),n])}return null};return(0,r.sV)(()=>{0}),()=>{const{prefixCls:t,disabled:n}=e,o=f(e,["prefixCls","disabled"]);return(0,r.bF)(p,(0,a.A)((0,a.A)((0,a.A)({},o),s),{},{ref:w,prefixCls:t,inputElement:N(),handleReset:P,value:(0,v.pt)(y.value),focused:b.value,triggerFocus:h,suffix:B(),disabled:n}),l)}}})},82275:function(e,t,l){l.d(t,{_O:function(){return c}});var a=l(58788),n=l(20641),r=l(50953),o=l(30191),i=l(59605),u=l(45816),s=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(l[a[n]]=e[a[n]])}return l};const v=Symbol("previewGroupContext"),c={provide:e=>{(0,n.Gt)(v,e)},inject:()=>(0,n.WQ)(v,{isPreviewGroup:(0,r.IJ)(!1),previewUrls:(0,n.EW)(()=>new Map),setPreviewUrls:()=>{},current:(0,r.KR)(null),setCurrent:()=>{},setShowPreview:()=>{},setMousePosition:()=>{},registerImage:null,rootClassName:""})},p=()=>({previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:()=>({})}}),d=(0,n.pM)({compatConfig:{MODE:3},name:"PreviewGroup",inheritAttrs:!1,props:p(),setup(e,t){let{slots:l}=t;const v=(0,n.EW)(()=>{const t={visible:void 0,onVisibleChange:()=>{},getContainer:void 0,current:0};return"object"===typeof e.preview?(0,o.nr)(e.preview,t):t}),p=(0,r.Kh)(new Map),d=(0,r.KR)(),f=(0,n.EW)(()=>v.value.visible),g=(0,n.EW)(()=>v.value.getContainer),y=(e,t)=>{var l,a;null===(a=(l=v.value).onVisibleChange)||void 0===a||a.call(l,e,t)},[b,m]=(0,u.A)(!!f.value,{value:f,onChange:y}),w=(0,r.KR)(null),h=(0,n.EW)(()=>void 0!==f.value),C=(0,n.EW)(()=>Array.from(p.keys())),A=(0,n.EW)(()=>C.value[v.value.current]),x=(0,n.EW)(()=>new Map(Array.from(p).filter(e=>{let[,{canPreview:t}]=e;return!!t}).map(e=>{let[t,{url:l}]=e;return[t,l]}))),O=function(e,t){let l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];p.set(e,{url:t,canPreview:l})},k=e=>{d.value=e},F=e=>{w.value=e},S=function(e,t){let l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=()=>{p.delete(e)};return p.set(e,{url:t,canPreview:l}),a},$=e=>{null===e||void 0===e||e.stopPropagation(),m(!1),F(null)};return(0,n.wB)(A,e=>{k(e)},{immediate:!0,flush:"post"}),(0,n.nT)(()=>{b.value&&h.value&&k(A.value)},{flush:"post"}),c.provide({isPreviewGroup:(0,r.IJ)(!0),previewUrls:x,setPreviewUrls:O,current:d,setCurrent:k,setShowPreview:m,setMousePosition:F,registerImage:S}),()=>{const t=s(v.value,[]);return(0,n.bF)(n.FK,null,[l.default&&l.default(),(0,n.bF)(i.A,(0,a.A)((0,a.A)({},t),{},{"ria-hidden":!b.value,visible:b.value,prefixCls:e.previewPrefixCls,onClose:$,mousePosition:w.value,src:x.value.get(d.value),icons:e.icons,getContainer:g.value}),null)])}}});t.Ay=d}}]);
//# sourceMappingURL=vendors-bafd7587.ec90b6ea.js.map