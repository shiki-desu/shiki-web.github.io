"use strict";(self["webpackChunkshiki_web"]=self["webpackChunkshiki_web"]||[]).push([[8924],{5866:function(e,t,l){l.d(t,{FA:function(){return a},V2:function(){return u},u6:function(){return r},vj:function(){return o}});var n=l(62366);const r="SHOW_ALL",a="SHOW_PARENT",o="SHOW_CHILD";function u(e,t,l,r){const u=new Set(e);return t===o?e.filter(e=>{const t=l[e];return!(t&&t.children&&t.children.some(e=>{let{node:t}=e;return u.has(t[r.value])})&&t.children.every(e=>{let{node:t}=e;return(0,n.DK)(t)||u.has(t[r.value])}))}):t===a?e.filter(e=>{const t=l[e],r=t?t.parent:null;return!(r&&!(0,n.DK)(r.node)&&u.has(r.key))}):e}},25685:function(e,t){const l=()=>null;l.inheritAttrs=!1,l.displayName="ATreeSelectNode",l.isTreeSelectNode=!0,t.A=l},62366:function(e,t,l){function n(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function r(e){const{label:t,value:l,children:n}=e||{},r=l||"value";return{_title:t?[t]:["title","label"],value:r,key:r,children:n||"children"}}function a(e){return e.disabled||e.disableCheckbox||!1===e.checkable}function o(e,t){const l=[];function n(e){e.forEach(e=>{l.push(e[t.value]);const r=e[t.children];r&&n(r)})}return n(e),l}function u(e){return null===e||void 0===e}l.d(t,{$r:function(){return n},AZ:function(){return r},DK:function(){return a},gD:function(){return u},oQ:function(){return o}})},66734:function(e,t,l){l.d(t,{A:function(){return B},v:function(){return F}});var n=l(58788),r=l(51137),a=l(20641),o=l(95372),u=l(5866),i=l(79410),c=l(64967),d=l(50953),s=l(74495),v=l(82681),p=l(57646),h=l(25685),f=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(l[n[r]]=e[n[r]])}return l};function y(e){return e&&e.type&&e.type.isTreeSelectNode}function g(e){function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,s.Gk)(e).map(e=>{var l,n,a;if(!y(e))return(0,p.$e)(!e,"TreeSelect/TreeSelectNode can only accept TreeSelectNode as children."),null;const o=e.children||{},u=e.key,i={};for(const[t,r]of Object.entries(e.props))i[(0,v.PT)(t)]=r;const{isLeaf:c,checkable:d,selectable:s,disabled:h,disableCheckbox:g}=i,b={isLeaf:c||""===c||void 0,checkable:d||""===d||void 0,selectable:s||""===s||void 0,disabled:h||""===h||void 0,disableCheckbox:g||""===g||void 0},m=(0,r.A)((0,r.A)({},i),b),{title:A=(null===(l=o.title)||void 0===l?void 0:l.call(o,m)),switcherIcon:S=(null===(n=o.switcherIcon)||void 0===n?void 0:n.call(o,m))}=i,C=f(i,["title","switcherIcon"]),k=null===(a=o.default)||void 0===a?void 0:a.call(o),w=(0,r.A)((0,r.A)((0,r.A)({},C),{title:A,switcherIcon:S,key:u,isLeaf:c}),b),E=t(k);return E.length&&(w.children=E),w})}return t(e)}function b(e){if(!e)return e;const t=(0,r.A)({},e);return"props"in t||Object.defineProperty(t,"props",{get(){return(0,p.$e)(!1,"New `vc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function m(e,t,l,n,r,o){let u=null,i=null;function c(){function e(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.map((n,d)=>{const s=`${r}-${d}`,v=n[o.value],p=l.includes(v),f=e(n[o.children]||[],s,p),y=(0,a.bF)(h.A,n,{default:()=>[f.map(e=>e.node)]});if(t===v&&(u=y),p){const e={pos:s,node:y,children:f};return c||i.push(e),e}return null}).filter(e=>e)}i||(i=[],e(n),i.sort((e,t)=>{let{node:{props:{value:n}}}=e,{node:{props:{value:r}}}=t;const a=l.indexOf(n),o=l.indexOf(r);return a-o}))}Object.defineProperty(e,"triggerNode",{get(){return(0,p.$e)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),c(),u}}),Object.defineProperty(e,"allCheckedNodes",{get(){return(0,p.$e)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),c(),r?i:i.map(e=>{let{node:t}=e;return t})}})}function A(e,t){let{id:l,pId:n,rootPId:a}=t;const o={},u=[],i=e.map(e=>{const t=(0,r.A)({},e),n=t[l];return o[n]=t,t.key=t.key||n,t});return i.forEach(e=>{const t=e[n],l=o[t];l&&(l.children=l.children||[],l.children.push(e)),(t===a||!l&&null===a)&&u.push(e)}),u}function S(e,t,l){const n=(0,d.IJ)();return(0,a.wB)([l,e,t],()=>{const a=l.value;e.value?n.value=l.value?A((0,d.ux)(e.value),(0,r.A)({id:"id",pId:"pId",rootPId:null},!0!==a?a:{})):(0,d.ux)(e.value).slice():n.value=g((0,d.ux)(t.value))},{immediate:!0,deep:!0}),n}var C=l(62366),k=e=>{const t=(0,d.IJ)({valueLabels:new Map}),l=(0,d.IJ)();(0,a.wB)(e,()=>{l.value=(0,d.ux)(e.value)},{immediate:!0});const n=(0,a.EW)(()=>{const{valueLabels:e}=t.value,n=new Map,a=l.value.map(t=>{var l;const{value:a}=t,o=null!==(l=t.label)&&void 0!==l?l:e.get(a);return n.set(a,o),(0,r.A)((0,r.A)({},t),{label:o})});return t.value.valueLabels=n,a});return[n]},w=l(50214),E=(e,t)=>{const l=(0,d.IJ)(new Map),n=(0,d.IJ)({});return(0,a.nT)(()=>{const a=t.value,o=(0,w.cG)(e.value,{fieldNames:a,initWrapper:e=>(0,r.A)((0,r.A)({},e),{valueEntities:new Map}),processEntity:(e,t)=>{const l=e.node[a.value];t.valueEntities.set(l,e)}});l.value=o.valueEntities,n.value=o.keyEntities}),{valueEntities:l,keyEntities:n}},x=l(5860),I=(e,t,l,n,r,o)=>{const u=(0,d.IJ)([]),i=(0,d.IJ)([]);return(0,a.nT)(()=>{let a=e.value.map(e=>{let{value:t}=e;return t}),c=t.value.map(e=>{let{value:t}=e;return t});const d=a.filter(e=>!n.value[e]);l.value&&({checkedKeys:a,halfCheckedKeys:c}=(0,x.p)(a,!0,n.value,r.value,o.value)),u.value=Array.from(new Set([...d,...a])),i.value=c}),[u,i]},N=(e,t,l)=>{let{treeNodeFilterProp:n,filterTreeNode:o,fieldNames:u}=l;return(0,a.EW)(()=>{const{children:l}=u.value,a=t.value,i=null===n||void 0===n?void 0:n.value;if(!a||!1===o.value)return e.value;let c;if("function"===typeof o.value)c=o.value;else{const e=a.toUpperCase();c=(t,l)=>{const n=l[i];return String(n).toUpperCase().includes(e)}}function d(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];for(let o=0,u=e.length;o<u;o++){const u=e[o],i=u[l],s=t||c(a,b(u)),v=d(i||[],s);(s||v.length)&&n.push((0,r.A)((0,r.A)({},u),{[l]:v}))}return n}return d(e.value)})},V=l(93717),D=l(11712),T=l(4718),P=l(51636),O=l(80287),L=l(45816),W=l(33703),K=l(30573);function F(){return(0,r.A)((0,r.A)({},(0,D.A)((0,V.Lh)(),["mode"])),{prefixCls:String,id:String,value:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array]},onChange:{type:Function},searchValue:String,inputValue:String,onSearch:{type:Function},autoClearSearchValue:{type:Boolean,default:void 0},filterTreeNode:{type:[Boolean,Function],default:void 0},treeNodeFilterProp:String,onSelect:Function,onDeselect:Function,showCheckedStrategy:{type:String},treeNodeLabelProp:String,fieldNames:{type:Object},multiple:{type:Boolean,default:void 0},treeCheckable:{type:Boolean,default:void 0},treeCheckStrictly:{type:Boolean,default:void 0},labelInValue:{type:Boolean,default:void 0},treeData:{type:Array},treeDataSimpleMode:{type:[Boolean,Object],default:void 0},loadData:{type:Function},treeLoadedKeys:{type:Array},onTreeLoad:{type:Function},treeDefaultExpandAll:{type:Boolean,default:void 0},treeExpandedKeys:{type:Array},treeDefaultExpandedKeys:{type:Array},onTreeExpand:{type:Function},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,onDropdownVisibleChange:{type:Function},treeLine:{type:[Boolean,Object],default:void 0},treeIcon:T.A.any,showTreeIcon:{type:Boolean,default:void 0},switcherIcon:T.A.any,treeMotion:T.A.any,children:Array,treeExpandAction:String,showArrow:{type:Boolean,default:void 0},showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:T.A.any,maxTagPlaceholder:{type:Function},dropdownPopupAlign:T.A.any,customSlots:Object})}function j(e){return!e||"object"!==typeof e}var B=(0,a.pM)({compatConfig:{MODE:3},name:"TreeSelect",inheritAttrs:!1,props:(0,P.A)(F(),{treeNodeFilterProp:"value",autoClearSearchValue:!0,showCheckedStrategy:u.vj,listHeight:200,listItemHeight:20,prefixCls:"vc-tree-select"}),setup(e,t){let{attrs:l,expose:s,slots:v}=t;const h=(0,O.Ay)((0,d.lW)(e,"id")),f=(0,a.EW)(()=>e.treeCheckable&&!e.treeCheckStrictly),y=(0,a.EW)(()=>e.treeCheckable||e.treeCheckStrictly),g=(0,a.EW)(()=>e.treeCheckStrictly||e.labelInValue),A=(0,a.EW)(()=>y.value||e.multiple);const w=(0,a.EW)(()=>(0,C.AZ)(e.fieldNames)),[T,P]=(0,L.A)("",{value:(0,a.EW)(()=>void 0!==e.searchValue?e.searchValue:e.inputValue),postState:e=>e||""}),F=t=>{var l;P(t),null===(l=e.onSearch)||void 0===l||l.call(e,t)},B=S((0,d.lW)(e,"treeData"),(0,d.lW)(e,"children"),(0,d.lW)(e,"treeDataSimpleMode")),{keyEntities:M,valueEntities:H}=E(B,w),J=e=>{const t=[],l=[];return e.forEach(e=>{H.value.has(e)?l.push(e):t.push(e)}),{missingRawValues:t,existRawValues:l}},R=N(B,T,{fieldNames:w,treeNodeFilterProp:(0,d.lW)(e,"treeNodeFilterProp"),filterTreeNode:(0,d.lW)(e,"filterTreeNode")}),$=t=>{if(t){if(e.treeNodeLabelProp)return t[e.treeNodeLabelProp];const{_title:l}=w.value;for(let e=0;e<l.length;e+=1){const n=t[l[e]];if(void 0!==n)return n}}},_=e=>{const t=(0,C.$r)(e);return t.map(e=>j(e)?{value:e}:e)},G=e=>{const t=_(e);return t.map(e=>{let{label:t}=e;const{value:l,halfChecked:n}=e;let r;const a=H.value.get(l);return a&&(t=null!==t&&void 0!==t?t:$(a.node),r=a.node.disabled),{label:t,value:l,halfChecked:n,disabled:r}})},[Q,U]=(0,L.A)(e.defaultValue,{value:(0,d.lW)(e,"value")}),Z=(0,a.EW)(()=>_(Q.value)),q=(0,d.IJ)([]),z=(0,d.IJ)([]);(0,a.nT)(()=>{const e=[],t=[];Z.value.forEach(l=>{l.halfChecked?t.push(l):e.push(l)}),q.value=e,z.value=t});const X=(0,a.EW)(()=>q.value.map(e=>e.value)),{maxLevel:Y,levelEntities:ee}=(0,K.A)(M),[te,le]=I(q,z,f,M,Y,ee),ne=(0,a.EW)(()=>{const t=(0,u.V2)(te.value,e.showCheckedStrategy,M.value,w.value),l=t.map(e=>{var t,l,n;return null!==(n=null===(l=null===(t=M.value[e])||void 0===t?void 0:t.node)||void 0===l?void 0:l[w.value.value])&&void 0!==n?n:e}),n=l.map(e=>{const t=q.value.find(t=>t.value===e);return{value:e,label:null===t||void 0===t?void 0:t.label}}),a=G(n),o=a[0];return!A.value&&o&&(0,C.gD)(o.value)&&(0,C.gD)(o.label)?[]:a.map(e=>{var t;return(0,r.A)((0,r.A)({},e),{label:null!==(t=e.label)&&void 0!==t?t:e.value})})}),[re]=k(ne),ae=(t,l,n)=>{const r=G(t);if(U(r),e.autoClearSearchValue&&P(""),e.onChange){let r=t;if(f.value){const l=(0,u.V2)(t,e.showCheckedStrategy,M.value,w.value);r=l.map(e=>{const t=H.value.get(e);return t?t.node[w.value.value]:e})}const{triggerValue:a,selected:o}=l||{triggerValue:void 0,selected:void 0};let i=r;if(e.treeCheckStrictly){const e=z.value.filter(e=>!r.includes(e.value));i=[...i,...e]}const c=G(i),d={preValue:q.value,triggerValue:a};let s=!0;(e.treeCheckStrictly||"selection"===n&&!o)&&(s=!1),m(d,a,t,B.value,s,w.value),y.value?d.checked=o:d.selected=o;const v=g.value?c:c.map(e=>e.value);e.onChange(A.value?v:v[0],g.value?null:c.map(e=>e.label),d)}},oe=(t,l)=>{let{selected:n,source:r}=l;var a,o,u;const i=(0,d.ux)(M.value),c=(0,d.ux)(H.value),s=i[t],v=null===s||void 0===s?void 0:s.node,p=null!==(a=null===v||void 0===v?void 0:v[w.value.value])&&void 0!==a?a:t;if(A.value){let e=n?[...X.value,p]:te.value.filter(e=>e!==p);if(f.value){const{missingRawValues:t,existRawValues:l}=J(e),r=l.map(e=>c.get(e).key);let a;({checkedKeys:a}=n?(0,x.p)(r,!0,i,Y.value,ee.value):(0,x.p)(r,{checked:!1,halfCheckedKeys:le.value},i,Y.value,ee.value)),e=[...t,...a.map(e=>i[e].node[w.value.value])]}ae(e,{selected:n,triggerValue:p},r||"option")}else ae([p],{selected:!0,triggerValue:p},"option");n||!A.value?null===(o=e.onSelect)||void 0===o||o.call(e,p,b(v)):null===(u=e.onDeselect)||void 0===u||u.call(e,p,b(v))},ue=t=>{if(e.onDropdownVisibleChange){const l={};Object.defineProperty(l,"documentClickClose",{get(){return(0,p.$e)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),e.onDropdownVisibleChange(t,l)}},ie=(e,t)=>{const l=e.map(e=>e.value);"clear"!==t.type?t.values.length&&oe(t.values[0].value,{selected:!1,source:"selection"}):ae(l,{},"selection")},{treeNodeFilterProp:ce,loadData:de,treeLoadedKeys:se,onTreeLoad:ve,treeDefaultExpandAll:pe,treeExpandedKeys:he,treeDefaultExpandedKeys:fe,onTreeExpand:ye,virtual:ge,listHeight:be,listItemHeight:me,treeLine:Ae,treeIcon:Se,showTreeIcon:Ce,switcherIcon:ke,treeMotion:we,customSlots:Ee,dropdownMatchSelectWidth:xe,treeExpandAction:Ie}=(0,d.QW)(e);(0,c.P)((0,W.l)({checkable:y,loadData:de,treeLoadedKeys:se,onTreeLoad:ve,checkedKeys:te,halfCheckedKeys:le,treeDefaultExpandAll:pe,treeExpandedKeys:he,treeDefaultExpandedKeys:fe,onTreeExpand:ye,treeIcon:Se,treeMotion:we,showTreeIcon:Ce,switcherIcon:ke,treeLine:Ae,treeNodeFilterProp:ce,keyEntities:M,customSlots:Ee})),(0,i.g)((0,W.l)({virtual:ge,listHeight:be,listItemHeight:me,treeData:R,fieldNames:w,onSelect:oe,dropdownMatchSelectWidth:xe,treeExpandAction:Ie}));const Ne=(0,d.KR)();return s({focus(){var e;null===(e=Ne.value)||void 0===e||e.focus()},blur(){var e;null===(e=Ne.value)||void 0===e||e.blur()},scrollTo(e){var t;null===(t=Ne.value)||void 0===t||t.scrollTo(e)}}),()=>{var t;const r=(0,D.A)(e,["id","prefixCls","customSlots","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","virtual","listHeight","listItemHeight","onDropdownVisibleChange","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"]);return(0,a.bF)(V.Ay,(0,n.A)((0,n.A)((0,n.A)({ref:Ne},l),r),{},{id:h,prefixCls:e.prefixCls,mode:A.value?"multiple":void 0,displayValues:re.value,onDisplayValuesChange:ie,searchValue:T.value,onSearch:F,OptionList:o.A,emptyOptions:!B.value.length,onDropdownVisibleChange:ue,tagRender:e.tagRender||v.tagRender,dropdownMatchSelectWidth:null===(t=e.dropdownMatchSelectWidth)||void 0===t||t}),v)}}})},71249:function(e,t,l){var n=l(66734);t.Ay=n.A},79410:function(e,t,l){l.d(t,{A:function(){return o},g:function(){return a}});var n=l(20641);const r=Symbol("TreeSelectContextPropsKey");function a(e){return(0,n.Gt)(r,e)}function o(){return(0,n.WQ)(r,{})}}}]);
//# sourceMappingURL=vendors-c1c6d345.6fee6ebb.js.map