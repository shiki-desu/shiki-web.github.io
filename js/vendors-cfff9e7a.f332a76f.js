"use strict";(self["webpackChunkshiki_web"]=self["webpackChunkshiki_web"]||[]).push([[1432],{64365:function(e,t,l){l.d(t,{A:function(){return P}});var n=l(58788),r=l(51137),a=l(20641),o=l(50953),s=l(4718),i=l(74495),c=l(58777),d=l(26209),u=l(63225),v=l(72219),h=l(77197),m=l(99247),f=l(15134),g=l(7042),p=l(84215),y=l(38377),b=l(30869);function A(){}const F={renderedText:s.A.any,renderedEl:s.A.any,item:s.A.any,checked:(0,b.HE)(),prefixCls:String,disabled:(0,b.HE)(),showRemove:(0,b.HE)(),onClick:Function,onRemove:Function};var S=(0,a.pM)({compatConfig:{MODE:3},name:"ListItem",inheritAttrs:!1,props:F,emits:["click","remove"],setup(e,t){let{emit:l}=t;return()=>{const{renderedText:t,renderedEl:n,item:r,checked:o,disabled:s,prefixCls:i,showRemove:d}=e,v=(0,c.A)({[`${i}-content-item`]:!0,[`${i}-content-item-disabled`]:s||r.disabled});let h;return"string"!==typeof t&&"number"!==typeof t||(h=String(t)),(0,a.bF)(y.A,{componentName:"Transfer",defaultLocale:g.A.Transfer},{default:e=>{const t=(0,a.bF)("span",{class:`${i}-content-item-text`},[n]);return d?(0,a.bF)("li",{class:v,title:h},[t,(0,a.bF)(p.A,{disabled:s||r.disabled,class:`${i}-content-item-remove`,"aria-label":e.remove,onClick:()=>{l("remove",r)}},{default:()=>[(0,a.bF)(f.A,null,null)]})]):(0,a.bF)("li",{class:v,title:h,onClick:s||r.disabled?A:()=>{l("click",r)}},[(0,a.bF)(u.Ay,{class:`${i}-checkbox`,checked:o,disabled:s||r.disabled},null),t])}})}}}),C=l(99223);const k={prefixCls:String,filteredRenderItems:s.A.array.def([]),selectedKeys:s.A.array,disabled:(0,b.HE)(),showRemove:(0,b.HE)(),pagination:s.A.any,onItemSelect:Function,onScroll:Function,onItemRemove:Function};function w(e){if(!e)return null;const t={pageSize:10,simple:!0,showSizeChanger:!1,showLessItems:!1};return"object"===typeof e?(0,r.A)((0,r.A)({},t),e):t}const K=(0,a.pM)({compatConfig:{MODE:3},name:"ListBody",inheritAttrs:!1,props:k,emits:["itemSelect","itemRemove","scroll"],setup(e,t){let{emit:l,expose:n}=t;const r=(0,o.KR)(1),s=t=>{const{selectedKeys:n}=e,r=n.indexOf(t.key)>=0;l("itemSelect",t.key,!r)},i=e=>{l("itemRemove",[e.key])},d=e=>{l("scroll",e)},u=(0,a.EW)(()=>w(e.pagination));(0,a.wB)([u,()=>e.filteredRenderItems],()=>{if(u.value){const t=Math.ceil(e.filteredRenderItems.length/u.value.pageSize);r.value=Math.min(r.value,t)}},{immediate:!0});const v=(0,a.EW)(()=>{const{filteredRenderItems:t}=e;let l=t;return u.value&&(l=t.slice((r.value-1)*u.value.pageSize,r.value*u.value.pageSize)),l}),h=e=>{r.value=e};return n({items:v}),()=>{const{prefixCls:t,filteredRenderItems:l,selectedKeys:n,disabled:o,showRemove:m}=e;let f=null;u.value&&(f=(0,a.bF)(C.Ay,{simple:u.value.simple,showSizeChanger:u.value.showSizeChanger,showLessItems:u.value.showLessItems,size:"small",disabled:o,class:`${t}-pagination`,total:l.length,pageSize:u.value.pageSize,current:r.value,onChange:h},null));const g=v.value.map(e=>{let{renderedEl:l,renderedText:r,item:c}=e;const{disabled:d}=c,u=n.indexOf(c.key)>=0;return(0,a.bF)(S,{disabled:o||d,key:c.key,item:c,renderedText:r,renderedEl:l,checked:u,prefixCls:t,onClick:s,onRemove:i,showRemove:m},null)});return(0,a.bF)(a.FK,null,[(0,a.bF)("ul",{class:(0,c.A)(`${t}-content`,{[`${t}-content-show-remove`]:m}),onScroll:d},[g]),f])}}});var x=K,I=l(60999);const R=()=>null;function E(e){return!(!e||(0,i.zO)(e)||"[object Object]"!==Object.prototype.toString.call(e))}function $(e){return e.filter(e=>!e.disabled).map(e=>e.key)}const O={prefixCls:String,dataSource:(0,b.MY)([]),filter:String,filterOption:Function,checkedKeys:s.A.arrayOf(s.A.string),handleFilter:Function,handleClear:Function,renderItem:Function,showSearch:(0,b.HE)(!1),searchPlaceholder:String,notFoundContent:s.A.any,itemUnit:String,itemsUnit:String,renderList:s.A.any,disabled:(0,b.HE)(),direction:(0,b.WO)(),showSelectAll:(0,b.HE)(),remove:String,selectAll:String,selectCurrent:String,selectInvert:String,removeAll:String,removeCurrent:String,selectAllLabel:s.A.any,showRemove:(0,b.HE)(),pagination:s.A.any,onItemSelect:Function,onItemSelectAll:Function,onItemRemove:Function,onScroll:Function};var L=(0,a.pM)({compatConfig:{MODE:3},name:"TransferList",inheritAttrs:!1,props:O,slots:Object,setup(e,t){let{attrs:l,slots:s}=t;const f=(0,o.KR)(""),g=(0,o.KR)(),p=(0,o.KR)(),y=(e,t)=>{let l=e?e(t):null;const r=!!l&&(0,i.Gk)(l).length>0;return r||(l=(0,a.bF)(x,(0,n.A)((0,n.A)({},t),{},{ref:p}),null)),{customize:r,bodyContent:l}},b=t=>{const{renderItem:l=R}=e,n=l(t),r=E(n);return{renderedText:r?n.value:n,renderedEl:r?n.label:n,item:t}},A=(0,o.KR)([]),F=(0,o.KR)([]);(0,a.nT)(()=>{const t=[],l=[];e.dataSource.forEach(e=>{const n=b(e),{renderedText:r}=n;if(f.value&&f.value.trim()&&!L(r,e))return null;t.push(e),l.push(n)}),A.value=t,F.value=l});const S=(0,a.EW)(()=>{const{checkedKeys:t}=e;if(0===t.length)return"none";const l=(0,I.W)(t);return A.value.every(e=>l.has(e.key)||!!e.disabled)?"all":"part"}),C=(0,a.EW)(()=>$(A.value)),k=(t,l)=>Array.from(new Set([...t,...e.checkedKeys])).filter(e=>-1===l.indexOf(e)),w=t=>{let{disabled:l,prefixCls:n}=t;var r;const o="all"===S.value,s=(0,a.bF)(u.Ay,{disabled:0===(null===(r=e.dataSource)||void 0===r?void 0:r.length)||l,checked:o,indeterminate:"part"===S.value,class:`${n}-checkbox`,onChange:()=>{const t=C.value;e.onItemSelectAll(k(o?[]:t,o?e.checkedKeys:[]))}},null);return s},K=t=>{var l;const{target:{value:n}}=t;f.value=n,null===(l=e.handleFilter)||void 0===l||l.call(e,t)},O=t=>{var l;f.value="",null===(l=e.handleClear)||void 0===l||l.call(e,t)},L=(t,l)=>{const{filterOption:n}=e;return n?n(f.value,l):t.includes(f.value)},T=(t,l)=>{const{itemsUnit:n,itemUnit:r,selectAllLabel:o}=e;if(o)return"function"===typeof o?o({selectedCount:t,totalCount:l}):o;const s=l>1?n:r;return(0,a.bF)(a.FK,null,[(t>0?`${t}/`:"")+l,(0,a.eW)(" "),s])},M=(0,a.EW)(()=>Array.isArray(e.notFoundContent)?e.notFoundContent["left"===e.direction?0:1]:e.notFoundContent),W=(t,n,o,s,c,d)=>{const u=c?(0,a.bF)("div",{class:`${t}-body-search-wrapper`},[(0,a.bF)(m.A,{prefixCls:`${t}-search`,onChange:K,handleClear:O,placeholder:n,value:f.value,disabled:d},null)]):null;let v;const{onEvents:h}=(0,i.fR)(l),{bodyContent:p,customize:b}=y(s,(0,r.A)((0,r.A)((0,r.A)({},e),{filteredItems:A.value,filteredRenderItems:F.value,selectedKeys:o}),h));return v=b?(0,a.bF)("div",{class:`${t}-body-customize-wrapper`},[p]):A.value.length?p:(0,a.bF)("div",{class:`${t}-body-not-found`},[M.value]),(0,a.bF)("div",{class:c?`${t}-body ${t}-body-with-search`:`${t}-body`,ref:g},[u,v])};return()=>{var t,n;const{prefixCls:o,checkedKeys:i,disabled:u,showSearch:m,searchPlaceholder:f,selectAll:g,selectCurrent:y,selectInvert:b,removeAll:F,removeCurrent:S,renderList:K,onItemSelectAll:x,onItemRemove:I,showSelectAll:R=!0,showRemove:E,pagination:O}=e,L=null===(t=s.footer)||void 0===t?void 0:t.call(s,(0,r.A)({},e)),M=(0,c.A)(o,{[`${o}-with-pagination`]:!!O,[`${o}-with-footer`]:!!L}),z=W(o,f,i,K,m,u),H=L?(0,a.bF)("div",{class:`${o}-footer`},[L]):null,j=!E&&!O&&w({disabled:u,prefixCls:o});let U=null;U=E?(0,a.bF)(v.Ay,null,{default:()=>[O&&(0,a.bF)(v.Ay.Item,{key:"removeCurrent",onClick:()=>{const e=$((p.value.items||[]).map(e=>e.item));null===I||void 0===I||I(e)}},{default:()=>[S]}),(0,a.bF)(v.Ay.Item,{key:"removeAll",onClick:()=>{null===I||void 0===I||I(C.value)}},{default:()=>[F]})]}):(0,a.bF)(v.Ay,null,{default:()=>[(0,a.bF)(v.Ay.Item,{key:"selectAll",onClick:()=>{const e=C.value;x(k(e,[]))}},{default:()=>[g]}),O&&(0,a.bF)(v.Ay.Item,{onClick:()=>{const e=$((p.value.items||[]).map(e=>e.item));x(k(e,[]))}},{default:()=>[y]}),(0,a.bF)(v.Ay.Item,{key:"selectInvert",onClick:()=>{let e;e=O?$((p.value.items||[]).map(e=>e.item)):C.value;const t=new Set(i),l=[],n=[];e.forEach(e=>{t.has(e)?n.push(e):l.push(e)}),x(k(l,n))}},{default:()=>[b]})]});const P=(0,a.bF)(h.Ay,{class:`${o}-header-dropdown`,overlay:U,disabled:u},{default:()=>[(0,a.bF)(d.A,null,null)]});return(0,a.bF)("div",{class:M,style:l.style},[(0,a.bF)("div",{class:`${o}-header`},[R?(0,a.bF)(a.FK,null,[j,P]):null,(0,a.bF)("span",{class:`${o}-header-selected`},[(0,a.bF)("span",null,[T(i.length,A.value.length)]),(0,a.bF)("span",{class:`${o}-header-title`},[null===(n=s.titleText)||void 0===n?void 0:n.call(s)])])]),z,H])}}}),T=l(60254),M=l(37771),W=l(74390),z=l(55338),H=l(96241);const j=()=>({id:String,prefixCls:String,dataSource:(0,b.MY)([]),disabled:(0,b.HE)(),targetKeys:(0,b.MY)(),selectedKeys:(0,b.MY)(),render:(0,b.Fg)(),listStyle:(0,b.tK)([Function,Object],()=>({})),operationStyle:(0,b.ge)(void 0),titles:(0,b.MY)(),operations:(0,b.MY)(),showSearch:(0,b.HE)(!1),filterOption:(0,b.Fg)(),searchPlaceholder:String,notFoundContent:s.A.any,locale:(0,b.ge)(),rowKey:(0,b.Fg)(),showSelectAll:(0,b.HE)(),selectAllLabels:(0,b.MY)(),children:(0,b.Fg)(),oneWay:(0,b.HE)(),pagination:(0,b.tK)([Object,Boolean]),status:(0,b.WO)(),onChange:(0,b.Fg)(),onSelectChange:(0,b.Fg)(),onSearch:(0,b.Fg)(),onScroll:(0,b.Fg)(),"onUpdate:targetKeys":(0,b.Fg)(),"onUpdate:selectedKeys":(0,b.Fg)()}),U=(0,a.pM)({compatConfig:{MODE:3},name:"ATransfer",inheritAttrs:!1,props:j(),slots:Object,setup(e,t){let{emit:l,attrs:s,slots:d,expose:u}=t;const{configProvider:v,prefixCls:h,direction:m}=(0,M.A)("transfer",e),[f,p]=(0,H.A)(h),b=(0,o.KR)([]),A=(0,o.KR)([]),F=(0,W.db)(),S=W.$W.useInject(),C=(0,a.EW)(()=>(0,z.v)(S.status,e.status));(0,a.wB)(()=>e.selectedKeys,()=>{var t,l;b.value=(null===(t=e.selectedKeys)||void 0===t?void 0:t.filter(t=>-1===e.targetKeys.indexOf(t)))||[],A.value=(null===(l=e.selectedKeys)||void 0===l?void 0:l.filter(t=>e.targetKeys.indexOf(t)>-1))||[]},{immediate:!0});const k=(t,l)=>{const n={notFoundContent:l("Transfer")},a=(0,i.rU)(d,e,"notFoundContent");return a&&(n.notFoundContent=a),void 0!==e.searchPlaceholder&&(n.searchPlaceholder=e.searchPlaceholder),(0,r.A)((0,r.A)((0,r.A)({},t),n),e.locale)},w=t=>{const{targetKeys:n=[],dataSource:r=[]}=e,a="right"===t?b.value:A.value,o=(0,I.a)(r),s=a.filter(e=>!o.has(e)),i=(0,I.W)(s),c="right"===t?s.concat(n):n.filter(e=>!i.has(e)),d="right"===t?"left":"right";"right"===t?b.value=[]:A.value=[],l("update:targetKeys",c),O(d,[]),l("change",c,t,s),F.onFieldChange()},K=()=>{w("left")},x=()=>{w("right")},R=(e,t)=>{O(e,t)},E=e=>R("left",e),$=e=>R("right",e),O=(t,n)=>{"left"===t?(e.selectedKeys||(b.value=n),l("update:selectedKeys",[...n,...A.value]),l("selectChange",n,(0,o.ux)(A.value))):(e.selectedKeys||(A.value=n),l("update:selectedKeys",[...n,...b.value]),l("selectChange",(0,o.ux)(b.value),n))},j=(e,t)=>{const n=t.target.value;l("search",e,n)},U=e=>{j("left",e)},P=e=>{j("right",e)},Y=e=>{l("search",e,"")},B=()=>{Y("left")},D=()=>{Y("right")},G=(e,t,l)=>{const n="left"===e?[...b.value]:[...A.value],r=n.indexOf(t);r>-1&&n.splice(r,1),l&&n.push(t),O(e,n)},N=(e,t)=>G("left",e,t),_=(e,t)=>G("right",e,t),q=t=>{const{targetKeys:n=[]}=e,r=n.filter(e=>!t.includes(e));l("update:targetKeys",r),l("change",r,"left",[...t])},J=(e,t)=>{l("scroll",e,t)},Q=e=>{J("left",e)},V=e=>{J("right",e)},X=(e,t)=>"function"===typeof e?e({direction:t}):e,Z=(0,o.KR)([]),ee=(0,o.KR)([]);(0,a.nT)(()=>{const{dataSource:t,rowKey:l,targetKeys:n=[]}=e,r=[],a=new Array(n.length),o=(0,I.W)(n);t.forEach(e=>{l&&(e.key=l(e)),o.has(e.key)?a[o.get(e.key)]=e:r.push(e)}),Z.value=r,ee.value=a}),u({handleSelectChange:O});const te=t=>{var l,r,o,i,u,f;const{disabled:g,operations:y=[],showSearch:w,listStyle:I,operationStyle:R,filterOption:O,showSelectAll:M,selectAllLabels:W=[],oneWay:H,pagination:j,id:Y=F.id.value}=e,{class:G,style:J}=s,te=d.children,le=!te&&j,ne=v.renderEmpty,re=k(t,ne),{footer:ae}=d,oe=e.render||d.render,se=A.value.length>0,ie=b.value.length>0,ce=(0,c.A)(h.value,G,{[`${h.value}-disabled`]:g,[`${h.value}-customize-list`]:!!te,[`${h.value}-rtl`]:"rtl"===m.value},(0,z.L)(h.value,C.value,S.hasFeedback),p.value),de=e.titles,ue=null!==(o=null!==(l=de&&de[0])&&void 0!==l?l:null===(r=d.leftTitle)||void 0===r?void 0:r.call(d))&&void 0!==o?o:(re.titles||["",""])[0],ve=null!==(f=null!==(i=de&&de[1])&&void 0!==i?i:null===(u=d.rightTitle)||void 0===u?void 0:u.call(d))&&void 0!==f?f:(re.titles||["",""])[1];return(0,a.bF)("div",(0,n.A)((0,n.A)({},s),{},{class:ce,style:J,id:Y}),[(0,a.bF)(L,(0,n.A)({key:"leftList",prefixCls:`${h.value}-list`,dataSource:Z.value,filterOption:O,style:X(I,"left"),checkedKeys:b.value,handleFilter:U,handleClear:B,onItemSelect:N,onItemSelectAll:E,renderItem:oe,showSearch:w,renderList:te,onScroll:Q,disabled:g,direction:"rtl"===m.value?"right":"left",showSelectAll:M,selectAllLabel:W[0]||d.leftSelectAllLabel,pagination:le},re),{titleText:()=>ue,footer:ae}),(0,a.bF)(T.A,{key:"operation",class:`${h.value}-operation`,rightActive:ie,rightArrowText:y[0],moveToRight:x,leftActive:se,leftArrowText:y[1],moveToLeft:K,style:R,disabled:g,direction:m.value,oneWay:H},null),(0,a.bF)(L,(0,n.A)({key:"rightList",prefixCls:`${h.value}-list`,dataSource:ee.value,filterOption:O,style:X(I,"right"),checkedKeys:A.value,handleFilter:P,handleClear:D,onItemSelect:_,onItemSelectAll:$,onItemRemove:q,renderItem:oe,showSearch:w,renderList:te,onScroll:V,disabled:g,direction:"rtl"===m.value?"left":"right",showSelectAll:M,selectAllLabel:W[1]||d.rightSelectAllLabel,showRemove:H,pagination:le},re),{titleText:()=>ve,footer:ae})])};return()=>f((0,a.bF)(y.A,{componentName:"Transfer",defaultLocale:g.A.Transfer,children:te},null))}});var P=(0,b.GU)(U)}}]);
//# sourceMappingURL=vendors-cfff9e7a.f332a76f.js.map