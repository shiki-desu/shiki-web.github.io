"use strict";(self["webpackChunkshiki_web"]=self["webpackChunkshiki_web"]||[]).push([[8323],{16122:function(e,t,o){o.d(t,{A:function(){return T},n:function(){return B}});var l=o(58788),n=o(51137),a=o(20641),i=o(93717),u=o(42170),r=o(11207),s=o(58777),c=o(11926),p=o(74495),d=o(5780),v=o(50953),f=o(45561),m=o(11643),b=o(40657),h=o(11712),g=o(81033);const y=Symbol("SelectContextKey");function A(e){return(0,a.Gt)(y,e)}function S(){return(0,a.WQ)(y,{})}var O=function(e,t){var o={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(o[l[n]]=e[l[n]])}return o};function w(e){return"string"===typeof e||"number"===typeof e}const F=(0,a.pM)({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(e,t){let{expose:o,slots:n}=t;const i=(0,g.A)(),y=S(),A=(0,a.EW)(()=>`${i.prefixCls}-item`),F=(0,m.A)(()=>y.flattenOptions,[()=>i.open,()=>y.flattenOptions],e=>e[0]),x=(0,d.Ay)(),C=e=>{e.preventDefault()},V=e=>{x.current&&x.current.scrollTo("number"===typeof e?{index:e}:e)},W=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const o=F.value.length;for(let l=0;l<o;l+=1){const n=(e+l*t+o)%o,{group:a,data:i}=F.value[n];if(!a&&!i.disabled)return n}return-1},P=(0,v.Kh)({activeIndex:W(0)}),E=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P.activeIndex=e;const o={source:t?"keyboard":"mouse"},l=F.value[e];l?y.onActiveValue(l.value,e,o):y.onActiveValue(null,-1,o)};(0,a.wB)([()=>F.value.length,()=>i.searchValue],()=>{E(!1!==y.defaultActiveFirstOption?W(0):-1)},{immediate:!0});const I=e=>y.rawValues.has(e)&&"combobox"!==i.mode;(0,a.wB)([()=>i.open,()=>i.searchValue],()=>{if(!i.multiple&&i.open&&1===y.rawValues.size){const e=Array.from(y.rawValues)[0],t=(0,v.ux)(F.value).findIndex(t=>{let{data:o}=t;return o[y.fieldNames.value]===e});-1!==t&&(E(t),(0,a.dY)(()=>{V(t)}))}i.open&&(0,a.dY)(()=>{var e;null===(e=x.current)||void 0===e||e.scrollTo(void 0)})},{immediate:!0,flush:"post"});const N=e=>{void 0!==e&&y.onSelect(e,{selected:!y.rawValues.has(e)}),i.multiple||i.toggleOpen(!1)},k=e=>"function"===typeof e.label?e.label():e.label;function M(e){const t=F.value[e];if(!t)return null;const o=t.data||{},{value:n}=o,{group:u}=t,r=(0,c.A)(o,!0),s=k(t);return t?(0,a.bF)("div",(0,l.A)((0,l.A)({"aria-label":"string"!==typeof s||u?null:s},r),{},{key:e,role:u?"presentation":"option",id:`${i.id}_list_${e}`,"aria-selected":I(n)}),[n]):null}const $=e=>{const{which:t,ctrlKey:o}=e;switch(t){case r.A.N:case r.A.P:case r.A.UP:case r.A.DOWN:{let e=0;if(t===r.A.UP?e=-1:t===r.A.DOWN?e=1:(0,b.R)()&&o&&(t===r.A.N?e=1:t===r.A.P&&(e=-1)),0!==e){const t=W(P.activeIndex+e,e);V(t),E(t,!0)}break}case r.A.ENTER:{const t=F.value[P.activeIndex];t&&!t.data.disabled?N(t.value):N(void 0),i.open&&e.preventDefault();break}case r.A.ESC:i.toggleOpen(!1),i.open&&e.stopPropagation()}},j=()=>{},D=e=>{V(e)};return o({onKeydown:$,onKeyup:j,scrollTo:D}),()=>{const{id:e,notFoundContent:t,onPopupScroll:o}=i,{menuItemSelectedIcon:r,fieldNames:c,virtual:d,listHeight:v,listItemHeight:m}=y,b=n.option,{activeIndex:g}=P,S=Object.keys(c).map(e=>c[e]);return 0===F.value.length?(0,a.bF)("div",{role:"listbox",id:`${e}_list`,class:`${A.value}-empty`,onMousedown:C},[t]):(0,a.bF)(a.FK,null,[(0,a.bF)("div",{role:"listbox",id:`${e}_list`,style:{height:0,width:0,overflow:"hidden"}},[M(g-1),M(g),M(g+1)]),(0,a.bF)(f.A,{itemKey:"key",ref:x,data:F.value,height:v,itemHeight:m,fullHeight:!1,onMousedown:C,onScroll:o,virtual:d},{default:(e,t)=>{var o;const{group:n,groupOption:i,data:c,value:d}=e,{key:v}=c,f="function"===typeof e.label?e.label():e.label;if(n){const e=null!==(o=c.title)&&void 0!==o?o:w(f)&&f;return(0,a.bF)("div",{class:(0,s.A)(A.value,`${A.value}-group`),title:e},[b?b(c):void 0!==f?f:v])}const{disabled:m,title:y,children:F,style:x,class:C,className:V}=c,W=O(c,["disabled","title","children","style","class","className"]),P=(0,h.A)(W,S),M=I(d),$=`${A.value}-option`,j=(0,s.A)(A.value,$,C,V,{[`${$}-grouped`]:i,[`${$}-active`]:g===t&&!m,[`${$}-disabled`]:m,[`${$}-selected`]:M}),D=k(e),B=!r||"function"===typeof r||M,H="number"===typeof D?D:D||d;let T=w(H)?H.toString():void 0;return void 0!==y&&(T=y),(0,a.bF)("div",(0,l.A)((0,l.A)({},P),{},{"aria-selected":M,class:j,title:T,onMousemove:e=>{W.onMousemove&&W.onMousemove(e),g===t||m||E(t)},onClick:e=>{m||N(d),W.onClick&&W.onClick(e)},style:x}),[(0,a.bF)("div",{class:`${$}-content`},[b?b(c):H]),(0,p.zO)(r)||M,B&&(0,a.bF)(u.A,{class:`${A.value}-option-state`,customizeIcon:r,customizeIconProps:{isSelected:M}},{default:()=>[M?"âœ“":null]})])}})])}}});var x=F,C=o(44685),V=o(80287),W=o(46073),P=o(60343),E=o(63784),I=o(14782),N=o(4718),k=o(51636),M=o(45816),$=o(3936),j=o(33703);const D=["inputValue"];function B(){return(0,n.A)((0,n.A)({},(0,i.Lh)()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:N.A.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:N.A.any,defaultValue:N.A.any,onChange:Function,children:Array})}function H(e){return!e||"object"!==typeof e}var T=(0,a.pM)({compatConfig:{MODE:3},name:"VcSelect",inheritAttrs:!1,props:(0,k.A)(B(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup(e,t){let{expose:o,attrs:u,slots:r}=t;const s=(0,V.Ay)((0,v.lW)(e,"id")),c=(0,a.EW)(()=>(0,i.FE)(e.mode)),p=(0,a.EW)(()=>!(e.options||!e.children)),d=(0,a.EW)(()=>(void 0!==e.filterOption||"combobox"!==e.mode)&&e.filterOption),f=(0,a.EW)(()=>(0,W.AZ)(e.fieldNames,p.value)),[m,b]=(0,M.A)("",{value:(0,a.EW)(()=>void 0!==e.searchValue?e.searchValue:e.inputValue),postState:e=>e||""}),g=(0,C.A)((0,v.lW)(e,"options"),(0,v.lW)(e,"children"),f),{valueOptions:y,labelOptions:S,options:O}=g,w=t=>{const o=(0,P.$r)(t);return o.map(t=>{var o,l;let n,a,i,u;H(t)?n=t:(i=t.key,a=t.label,n=null!==(o=t.value)&&void 0!==o?o:i);const r=y.value.get(n);return r&&(void 0===a&&(a=null===r||void 0===r?void 0:r[e.optionLabelProp||f.value.label]),void 0===i&&(i=null!==(l=null===r||void 0===r?void 0:r.key)&&void 0!==l?l:n),u=null===r||void 0===r?void 0:r.disabled),{label:a,value:n,key:i,disabled:u,option:r}})},[F,N]=(0,M.A)(e.defaultValue,{value:(0,v.lW)(e,"value")}),k=(0,a.EW)(()=>{var t;const o=w(F.value);return"combobox"!==e.mode||(null===(t=o[0])||void 0===t?void 0:t.value)?o:[]}),[B,T]=(0,I.A)(k,y),L=(0,a.EW)(()=>{if(!e.mode&&1===B.value.length){const e=B.value[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return B.value.map(e=>{var t;return(0,n.A)((0,n.A)({},e),{label:null!==(t="function"===typeof e.label?e.label():e.label)&&void 0!==t?t:e.value})})}),K=(0,a.EW)(()=>new Set(B.value.map(e=>e.value)));(0,a.nT)(()=>{var t;if("combobox"===e.mode){const e=null===(t=B.value[0])||void 0===t?void 0:t.value;void 0!==e&&null!==e&&b(String(e))}},{flush:"post"});const R=(e,t)=>{const o=null!==t&&void 0!==t?t:e;return{[f.value.value]:e,[f.value.label]:o}},_=(0,v.IJ)();(0,a.nT)(()=>{if("tags"!==e.mode)return void(_.value=O.value);const t=O.value.slice(),o=e=>y.value.has(e);[...B.value].sort((e,t)=>e.value<t.value?-1:1).forEach(e=>{const l=e.value;o(l)||t.push(R(l,e.label))}),_.value=t});const z=(0,E.A)(_,f,m,d,(0,v.lW)(e,"optionFilterProp")),Y=(0,a.EW)(()=>"tags"!==e.mode||!m.value||z.value.some(t=>t[e.optionFilterProp||"value"]===m.value)?z.value:[R(m.value),...z.value]),X=(0,a.EW)(()=>e.filterSort?[...Y.value].sort((t,o)=>e.filterSort(t,o)):Y.value),G=(0,a.EW)(()=>(0,W.XJ)(X.value,{fieldNames:f.value,childrenAsData:p.value})),J=t=>{const o=w(t);if(N(o),e.onChange&&(o.length!==B.value.length||o.some((e,t)=>{var o;return(null===(o=B.value[t])||void 0===o?void 0:o.value)!==(null===e||void 0===e?void 0:e.value)}))){const t=e.labelInValue?o.map(e=>(0,n.A)((0,n.A)({},e),{originLabel:e.label,label:"function"===typeof e.label?e.label():e.label})):o.map(e=>e.value),l=o.map(e=>(0,W.Bz)(T(e.value)));e.onChange(c.value?t:t[0],c.value?l:l[0])}},[U,Q]=(0,$.A)(null),[Z,q]=(0,$.A)(0),ee=(0,a.EW)(()=>void 0!==e.defaultActiveFirstOption?e.defaultActiveFirstOption:"combobox"!==e.mode),te=function(t,o){let{source:l="keyboard"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};q(o),e.backfill&&"combobox"===e.mode&&null!==t&&"keyboard"===l&&Q(String(t))},oe=(t,o)=>{const l=()=>{var o;const l=T(t),n=null===l||void 0===l?void 0:l[f.value.label];return[e.labelInValue?{label:"function"===typeof n?n():n,originLabel:n,value:t,key:null!==(o=null===l||void 0===l?void 0:l.key)&&void 0!==o?o:t}:t,(0,W.Bz)(l)]};if(o&&e.onSelect){const[t,o]=l();e.onSelect(t,o)}else if(!o&&e.onDeselect){const[t,o]=l();e.onDeselect(t,o)}},le=(t,o)=>{let l;const n=!c.value||o.selected;l=n?c.value?[...B.value,t]:[t]:B.value.filter(e=>e.value!==t),J(l),oe(t,n),"combobox"===e.mode?Q(""):c.value&&!e.autoClearSearchValue||(b(""),Q(""))},ne=(e,t)=>{J(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach(e=>{oe(e.value,!1)})},ae=(t,o)=>{var l;if(b(t),Q(null),"submit"===o.source){const e=(t||"").trim();if(e){const t=Array.from(new Set([...K.value,e]));J(t),oe(e,!0),b("")}return}"blur"!==o.source&&("combobox"===e.mode&&J(t),null===(l=e.onSearch)||void 0===l||l.call(e,t))},ie=t=>{let o=t;"tags"!==e.mode&&(o=t.map(e=>{const t=S.value.get(e);return null===t||void 0===t?void 0:t.value}).filter(e=>void 0!==e));const l=Array.from(new Set([...K.value,...o]));J(l),l.forEach(e=>{oe(e,!0)})},ue=(0,a.EW)(()=>!1!==e.virtual&&!1!==e.dropdownMatchSelectWidth);A((0,j.l)((0,n.A)((0,n.A)({},g),{flattenOptions:G,onActiveValue:te,defaultActiveFirstOption:ee,onSelect:le,menuItemSelectedIcon:(0,v.lW)(e,"menuItemSelectedIcon"),rawValues:K,fieldNames:f,virtual:ue,listHeight:(0,v.lW)(e,"listHeight"),listItemHeight:(0,v.lW)(e,"listItemHeight"),childrenAsData:p})));const re=(0,v.KR)();o({focus(){var e;null===(e=re.value)||void 0===e||e.focus()},blur(){var e;null===(e=re.value)||void 0===e||e.blur()},scrollTo(e){var t;null===(t=re.value)||void 0===t||t.scrollTo(e)}});const se=(0,a.EW)(()=>(0,h.A)(e,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"]));return()=>(0,a.bF)(i.Ay,(0,l.A)((0,l.A)((0,l.A)({},se.value),u),{},{id:s,prefixCls:e.prefixCls,ref:re,omitDomProps:D,mode:e.mode,displayValues:L.value,onDisplayValuesChange:ne,searchValue:m.value,onSearch:ae,onSearchSplit:ie,dropdownMatchSelectWidth:e.dropdownMatchSelectWidth,OptionList:x,emptyOptions:!G.value.length,activeValue:U.value,activeDescendantId:`${s}_list_${Z.value}`}),r)}})},28781:function(e,t){const o=()=>null;o.isSelectOption=!0,o.displayName="ASelectOption",t.A=o},45330:function(e,t,o){var l=o(58788),n=o(51137),a=o(20641),i=o(10820),u=o(4718),r=o(58777),s=o(50953),c=function(e,t){var o={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(o[l[n]]=e[l[n]])}return o};const p=e=>{const t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}},d=(0,a.pM)({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:u.A.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:u.A.oneOfType([Number,Boolean]).def(!0),popupElement:u.A.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function,onPopupFocusin:Function,onPopupFocusout:Function},setup(e,t){let{slots:o,attrs:u,expose:d}=t;const v=(0,a.EW)(()=>{const{dropdownMatchSelectWidth:t}=e;return p(t)}),f=(0,s.KR)();return d({getPopupElement:()=>f.value}),()=>{const t=(0,n.A)((0,n.A)({},e),u),{empty:s=!1}=t,p=c(t,["empty"]),{visible:d,dropdownAlign:m,prefixCls:b,popupElement:h,dropdownClassName:g,dropdownStyle:y,direction:A="ltr",placement:S,dropdownMatchSelectWidth:O,containerWidth:w,dropdownRender:F,animation:x,transitionName:C,getPopupContainer:V,getTriggerDOMNode:W,onPopupVisibleChange:P,onPopupMouseEnter:E,onPopupFocusin:I,onPopupFocusout:N}=p,k=`${b}-dropdown`;let M=h;F&&(M=F({menuNode:h,props:e}));const $=x?`${k}-${x}`:C,j=(0,n.A)({minWidth:`${w}px`},y);return"number"===typeof O?j.width=`${O}px`:O&&(j.width=`${w}px`),(0,a.bF)(i.A,(0,l.A)((0,l.A)({},e),{},{showAction:P?["click"]:[],hideAction:P?["click"]:[],popupPlacement:S||("rtl"===A?"bottomRight":"bottomLeft"),builtinPlacements:v.value,prefixCls:k,popupTransitionName:$,popupAlign:m,popupVisible:d,getPopupContainer:V,popupClassName:(0,r.A)(g,{[`${k}-empty`]:s}),popupStyle:j,getTriggerDOMNode:W,onPopupVisibleChange:P}),{default:o.default,popup:()=>(0,a.bF)("div",{ref:f,onMouseenter:E,onFocusin:I,onFocusout:N},[M])})}}});t.A=d},68052:function(e,t){const o=()=>null;o.isSelectOptGroup=!0,o.displayName="ASelectOptGroup",t.A=o}}]);